<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disaster Watch</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <!-- HEADER -->
    <header>
        <h2 class="logo">Logo</h2>
        <nav class="navigation">
            <a href="#" class="active">Home</a>
            <a href="#">About</a>
            <a href="#">Service</a>
            <a href="#">Contact</a>
        </nav>
    </header>

    <!-- PARALLAX SECTION -->
    <section class="parallax">
        <img src="./parallax background pack/_11_background.png" id="sky" alt="sky">
        <img src="./parallax background pack/_10_distant_clouds.png" id="clouds4" alt="clouds">
        <img src="./parallax background pack/_09_distant_clouds1.png" id="clouds3" alt="clouds">
        <img src="./parallax background pack/_08_clouds.png" id="clouds2" alt="clouds">
        <img src="./parallax background pack/_07_huge_clouds.png" id="clouds1" alt="clouds">
        <h2 id="text">Disaster Watch</h2>

        <img src="./parallax background pack/_06_hill2.png" id="hill2" alt="hill">
        <img src="./parallax background pack/_05_hill1.png" id="hill1" alt="hill">
        <img src="./parallax background pack/_04_bushes.png" id="bushes" alt="bushes">
        <img src="./parallax background pack/_03_distant_trees.png" id="trees2" alt="trees">
        <img src="./parallax background pack/_02_trees_and_bushes.png" id="trees1" alt="trees">
        <img src="./parallax background pack/_01_ground.png" id="ground1" alt="ground">

    </section>
    <button class="buttons" id="login" onclick="location.href='../Map/Map.html'">World Map</button>

    <button class="buttons" id="login" onclick="location.href='../Login/login.html'">Log-in</button>

    <button class="buttons" id="login">Sign-In</button>

    <!-- LOGIN SECTION -->
    <!-- LOGIN SECTION -->
    <div class="frame">
        <div class="background">
            <div class="container" id="container">
                <div class="form-container sign-up">
                    <form>
                        <h1>Create Account</h1>
                        <div class="social-icons">
                            <a href="#" class="icon"><i class="fa-brands fa-google"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <span>or use your email for registeration</span>
                        <input type="text" placeholder="Name">
                        <input type="email" placeholder="Email">
                        <input type="password" placeholder="Password">
                        <button>Sign Up</button>
                    </form>
                </div>
                <div class="form-container sign-in">
                    <form>
                        <h1>Sign In</h1>
                        <div class="social-icons">
                            <a href="#" class="icon"><i class="fa-brands fa-google"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                            <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <span>or use your email password</span>
                        <input type="email" placeholder="Email">
                        <input type="password" placeholder="Password">
                        <a href="#">Forget Your Password? </a>
                        <button>Sign In</button>
                    </form>
                </div>
                <div class="toggle-container">
                    <div class="toggle">
                        <div class="toggle-panel toggle-left">
                            <h1>Welcome Back!</h1>
                            <p>Enter your personal details to use all of site features</p>
                            <button class="hidden" id="login">Sign In</button>
                        </div>
                        <div class="toggle-panel toggle-right">
                            <h1>Hello, Friend!</h1>
                            <p>Register with your personal details to use all of site features</p>
                            <button class="hidden" id="register">Sign Up</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="leaderboard">
        Loading leaderboard...
    </div>

    <script>
        const backendUrl = "http://127.0.0.1:5000";

        async function loadLeaderboard() {
            const res = await fetch(`${backendUrl}/leaderboard`);
            const data = await res.json();

            const container = document.getElementById("leaderboard");
            container.innerHTML = "";

            data.forEach(item => {
                const div = document.createElement("div");
                div.innerHTML = `${item.company_name}: ${item.num_boycotters} people boycotting`;

                const btn = document.createElement("button");
                btn.textContent = "Join";
                btn.onclick = async () => {
                    await fetch(`${backendUrl}/join-boycott`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ user_id: 1, boycott_id: item.boycott_id })
                    });
                    loadLeaderboard(); // refresh leaderboard
                };

                div.appendChild(btn);
                container.appendChild(div);
            });
        }

        loadLeaderboard();
    </script>



    <script src="home.js"></script>
    <script src="script.js"></script>
</body>

</html>